{% if dates %}
{% set sortedDates = dates|sort((a, b) => a.date.timestamp - b.date.timestamp) %}
{% set previous_year = null %}
{% for date in sortedDates %}
{% set year = date.date|date('Y') %}
{% if previous_year is null or previous_year != year %}
{% if previous_year is not null %}
{% endif %}

<div class="date-guest-container">
    <ul>
        <li>
            <div class="header">
                <h5>{{ year }}</h5>
            </div>
            <div class="body">
                <span>
                    {% endif %}
                    <span class="accent-title">Date :</span> <span class="span-txt">{{ date.date|date('d-m-Y')
                        }}</span>
                    <br>
                    <span class="accent-title">Événement :</span><span class="span-txt"> {{ date.event }}</span>
                    <br>
                    {% if date.comment %}
                    <span class="accent-title">Commentaire :</span><span class="span-txt"> {{ date.comment }}</span>
                    {% endif %}
                    <br>
                    <br>
                    {% set previous_year = year %}
                    {% if loop.last %}
                </span>
            </div>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
</div>
{% else %}
<p>Aucune date n'a été enregistrée pour le moment</p>
{% endif %}